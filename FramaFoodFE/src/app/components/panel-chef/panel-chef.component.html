<!--<div class="contenedor">
    <div class="contenedorGrid">
        <div class="pedidos">
            <h1>Pedidos Pendientes</h1>
            <div class="pendientes">
                <div class="contenido" *ngFor="let item of items; let i = index">
                    <p> {{item.name}} #{{i + 1}} </p>
                    <button>Preparas</button>
                </div>
            </div>
        </div>

        <div class="Cocinando">
            <h1>Pedidos en Proceso</h1>
            <div class="EnProcesos">
                <ul class="task-list">
                    <li *ngFor="let task of tasks" class="task-item">
                        <span class="task-text">{{ task.name }}</span>
                        <input class="check" type="checkbox" [checked]="task.completed" (change)="toggle(task)" />
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>-->


<main class="pedidos-container">
  <div class="pedidos-section listos">
    <h2>Pedidos Pendientes</h2>
    <div class="pedidos-list">
      <div class="pedido-card example-box" *ngFor="let pedido of pedidosPendientes" draggable="true" (dragstart)="onDragStart(pedido)">
        <h3>Pedido #{{ pedido.idPedido }}</h3>
        <p>Mesa: {{ pedido.mesa }}</p>
        <p>Platos: {{ pedido.cantidad }}</p>
        <button class="btn-detalle" (click)="openPedidoListoModal(pedido)">Tomar Pedido</button>
        <button class="btn-detalle" (click)="openDetallePedidoModal(pedido)">Ver Pedido</button>
      </div>
      <div *ngIf="pedidosPendientes.length === 0" class="no-pedidos">
        No hay pedidos listos.
      </div>
    </div>
  </div>
  <div class="pedidos-section listos" (drop)="onDrop()" (dragover)="onDragOver($event)">
    <h2>Pedidos en Proceso</h2>
    <div class="pedidos-list">
      <div class="pedido-card" *ngFor="let pedido of PedidoCocinando" draggable="true" (dragstart)="onDragStart(pedido)">
        <h3>Pedido #{{ pedido.idPedido }}</h3>
        <p>Mesa: {{ pedido.mesa }}</p>
        <p>Platos: {{ pedido.cantidad }}</p>
        <button class="btn-detalle" (click)="openPedidoListoModal(pedido)">Entregar Pedido</button>
      </div>
      <div *ngIf="PedidoCocinando.length === 0" class="no-pedidos">
        No hay pedidos listos.
      </div>
    </div>
  </div>
    <div class="pedidos-section listos" (drop)="onDrop2()" (dragover)="onDragOver2($event)">
    <h2>Pedidos Listos</h2>
    <div class="pedidos-list">
      <div class="pedido-card" *ngFor="let pedido of pedidosListos" draggable="true" (dragstart)="onDragStart(pedido)"><!--CAMBIA ESTO-->
        <h3>Pedido #{{ pedido.idPedido }}</h3>
        <p>Mesa: {{ pedido.mesa }}</p>
        <p>Platos: {{ pedido.cantidad }}</p>
        <button class="btn-detalle" (click)="openPedidoListoModal(pedido)">Proceso</button>
      </div>
      <div *ngIf="pedidosListos.length === 0" class="no-pedidos">
        No hay pedidos listos.
      </div>
    </div>
  </div>
</main>

<div class="modal" [class.show]="showDetallePedidoModal">
  <div class="modal-content">
    <span class="close-button" (click)="closeDetallePedidoModal()">&times;</span>
    <h3>Detalles del Pedido #{{ pedidoSeleccionado?.idPedido }}</h3>
    <p><strong>Mesa:</strong> {{ pedidoSeleccionado?.mesa }}</p>
    <p><strong>Código de Pedido:</strong> {{ pedidoSeleccionado?.idPedido }}</p>
    <h4>Platos:</h4>
    <ul>
      <li *ngFor="let plato of selectedPedido">
        {{ plato.cantidad }}x {{ plato.nombrePlato }} <!--({{ plato.estadoDetalle }})-->
      </li>
    </ul>
    <div class="modal-actions">
      <button class="btn" (click)="closeDetallePedidoModal()">Cerrar</button>
      <button class="btn btn-primary" (click)="markPedidoAsReady(selectedPedido)">Marcar como Listo</button>
    </div>
  </div>
</div>

<!--{{ selectedPedido?detallePlatos }}-->
<!--{{ selectedPedido?.idPedido }}-->

<div class="modal" [class.show]="showPedidoListoModal">
  <div class="modal-content">
    <span class="close-button" (click)="closePedidoListoModal()">&times;</span>
    <h3>Pedido Listo para la Mesa {{ pedidoSeleccionado?.mesa }}</h3>
    <p>¡El pedido **# {{pedidoSeleccionado?.idPedido}} ** está listo para ser entregado!</p>
    <h4>Resumen del Pedido:</h4>
    <ul><!--*ngFor="let plato of pedidoSeleccionado"-->
      <li *ngFor="let plato of selectedPedido">
        {{ plato.cantidad }} x {{ plato.nombrePlato }}
      </li>
    </ul>
    <div class="modal-actions">
      <button class="btn" (click)="closePedidoListoModal()">Cancelar</button>
      <!--<button class="btn btn-primary" (click)="confirmarEntrega(selectedPedido)">Confirmar Entrega</button>-->
      <button class="btn btn-primary" (click)="ActualizarEstado(pedidoSeleccionado)">Confirmar</button>
    </div>
  </div>
</div>
